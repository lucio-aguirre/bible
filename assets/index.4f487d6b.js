import{S as q,i as L,s as S,a as w,e as _,b as m,c as p,n as y,d,o as A,t as k,f as O,g as b,l as R,r as D,h as v,j,k as E,m as M,p as T,q as B,u as F}from"./vendor.bb0fe4dd.js";const K=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(t){if(t.ep)return;t.ep=!0;const r=n(t);fetch(t.href,r)}};K();const W=location.pathname.slice(0,-1),U=new URL("/bible/sql.js-httpvfs/dist/sqlite.worker.js",self.location),z=new URL("/bible/sql.js-httpvfs/dist/sql-wasm.wasm",self.location);async function Q(c){return console.log("SQL worker URL:",U.toString()),await(await createDbWorker([{from:"jsonconfig",configUrl:`${W}/data/config.json`}],U.toString(),z.toString())).db.query(c)}window.query=Q;function C(c,e,n){const l=c.slice();return l[7]=e[n],l}function $(c,e,n){const l=c.slice();return l[10]=e[n][0],l[11]=e[n][1],l}function I(c,e,n){const l=c.slice();return l[14]=e[n],l}function G(c){let e,n,l,t,r,i,o,f,u;return{c(){e=_("h2"),e.textContent="Raw query:",n=w(),l=_("textarea"),t=w(),r=_("p"),i=_("button"),i.textContent="Run",o=k(`
    Tip: run CLI with -D to get queries and paste them above...`),m(l,"cols","60"),m(l,"rows","15"),m(i,"class","svelte-1lfjw78")},m(s,h){p(s,e,h),p(s,n,h),p(s,l,h),O(l,c[0]),p(s,t,h),p(s,r,h),b(r,i),b(r,o),f||(u=[R(l,"input",c[5]),R(i,"click",c[4])],f=!0)},p(s,h){h&1&&O(l,s[0])},d(s){s&&d(e),s&&d(n),s&&d(l),s&&d(t),s&&d(r),f=!1,D(u)}}}function H(c){let e,n,l,t,r,i=Object.keys(c[2][0]),o=[];for(let s=0;s<i.length;s+=1)o[s]=N(I(c,i,s));let f=c[2],u=[];for(let s=0;s<f.length;s+=1)u[s]=x(C(c,f,s));return{c(){e=_("table"),n=_("thead"),l=_("tr");for(let s=0;s<o.length;s+=1)o[s].c();t=w(),r=_("tbody");for(let s=0;s<u.length;s+=1)u[s].c();m(n,"class","svelte-1lfjw78"),m(r,"class","svelte-1lfjw78")},m(s,h){p(s,e,h),b(e,n),b(n,l);for(let a=0;a<o.length;a+=1)o[a].m(l,null);b(e,t),b(e,r);for(let a=0;a<u.length;a+=1)u[a].m(r,null)},p(s,h){if(h&4){i=Object.keys(s[2][0]);let a;for(a=0;a<i.length;a+=1){const g=I(s,i,a);o[a]?o[a].p(g,h):(o[a]=N(g),o[a].c(),o[a].m(l,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=i.length}if(h&4){f=s[2];let a;for(a=0;a<f.length;a+=1){const g=C(s,f,a);u[a]?u[a].p(g,h):(u[a]=x(g),u[a].c(),u[a].m(r,null))}for(;a<u.length;a+=1)u[a].d(1);u.length=f.length}},d(s){s&&d(e),j(o,s),j(u,s)}}}function J(c){let e;return{c(){e=_("p"),e.textContent="The query yielded no results"},m(n,l){p(n,e,l)},p:y,d(n){n&&d(e)}}}function V(c){let e,n;return{c(){e=_("p"),n=k(c[1])},m(l,t){p(l,e,t),b(e,n)},p(l,t){t&2&&v(n,l[1])},d(l){l&&d(e)}}}function X(c){let e;return{c(){e=_("p")},m(n,l){p(n,e,l)},p:y,d(n){n&&d(e)}}}function N(c){let e,n=c[14]+"",l;return{c(){e=_("td"),l=k(n),m(e,"class","svelte-1lfjw78")},m(t,r){p(t,e,r),b(e,l)},p(t,r){r&4&&n!==(n=t[14]+"")&&v(l,n)},d(t){t&&d(e)}}}function P(c){let e,n=c[11]+"",l,t;return{c(){e=_("td"),l=k(n),m(e,"width",t=c[10]=="verse"?"300":""),m(e,"class","svelte-1lfjw78")},m(r,i){p(r,e,i),b(e,l)},p(r,i){i&4&&n!==(n=r[11]+"")&&v(l,n),i&4&&t!==(t=r[10]=="verse"?"300":"")&&m(e,"width",t)},d(r){r&&d(e)}}}function x(c){let e,n,l=Object.entries(c[7]),t=[];for(let r=0;r<l.length;r+=1)t[r]=P($(c,l,r));return{c(){e=_("tr");for(let r=0;r<t.length;r+=1)t[r].c();n=w()},m(r,i){p(r,e,i);for(let o=0;o<t.length;o+=1)t[o].m(e,null);b(e,n)},p(r,i){if(i&4){l=Object.entries(r[7]);let o;for(o=0;o<l.length;o+=1){const f=$(r,l,o);t[o]?t[o].p(f,i):(t[o]=P(f),t[o].c(),t[o].m(e,n))}for(;o<t.length;o+=1)t[o].d(1);t.length=l.length}},d(r){r&&d(e),j(t,r)}}}function Y(c){let e,n,l=!location.search&&G(c);function t(o,f){return o[3]?X:o[1]?V:o[2].length?H:J}let r=t(c),i=r(c);return{c(){l&&l.c(),e=w(),n=_("div"),i.c(),m(n,"id","results"),m(n,"class","svelte-1lfjw78")},m(o,f){l&&l.m(o,f),p(o,e,f),p(o,n,f),i.m(n,null)},p(o,[f]){location.search||l.p(o,f),r===(r=t(o))&&i?i.p(o,f):(i.d(1),i=r(o),i&&(i.c(),i.m(n,null)))},i:y,o:y,d(o){l&&l.d(o),o&&d(e),o&&d(n),i.d()}}}function Z(c,e,n){const l=location.search.split("=");let t=unescape(l.length>1?l[1]:""),r="",i=[],o=!0;const f=async()=>{n(1,r=""),n(3,o=!1);try{n(2,i=await Q(t))}catch(s){n(1,r=await s.toString())}};A(()=>location.search&&f());function u(){t=this.value,n(0,t)}return[t,r,i,o,f,u]}class ee extends q{constructor(e){super();L(this,e,Z,Y,S,{})}}function te(c){let e,n,l;return n=new ee({}),{c(){e=_("main"),E(n.$$.fragment)},m(t,r){p(t,e,r),M(n,e,null),l=!0},p:y,i(t){l||(T(n.$$.fragment,t),l=!0)},o(t){B(n.$$.fragment,t),l=!1},d(t){t&&d(e),F(n)}}}class le extends q{constructor(e){super();L(this,e,null,te,S,{})}}new le({target:document.getElementById("app")});
